\section*{Embedding with flags}


Assume there is a transformer $T$ with embedding size $d$. It's possible to add flags expanding the embedding size. The flags are added using the positional embedding. It's needed to extend the dimensions of all the matrix and the token embedding, but doing it with zeros works.

Since the positional embedding from $T$ is just a mapping from $n_max$ to $\mathbb{R}^d$ for doing the flagging it's enough to define the positional embedding of the transformer with flags as:

\begin{equation*}
    (\theta'_{TE}(n))_j = \begin{cases}
        (\theta_{TE}(n))_j  & \text{ if } j \neq d+1 \\
        1                   & \text{ if } j = d+1  \text{ and } n = i \\
        0                   & \text{ if } j = d+1  \text{ and } n \neq i
    \end{cases}
\end{equation*}
