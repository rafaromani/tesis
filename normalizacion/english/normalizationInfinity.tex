\section*{$\infty$ Normalization}

\subsection*{Definition}

We will say that a transformer $T_N$ is the $\infty$-normalization of a transformer $T$ if the $h_n^L$ of $T_N$ respects:


\begin{align*}
    & (h_n^L)_i =
    \begin{cases}
    x & \text{if } i = 1 \\
    -x & \text{if } i = 2 \\
    0 & \text{cc }
    \end{cases} 
    & \text{ where }
    & x = 
    \begin{cases}
    -\infty & \text{ if T answers no }  \\
    \infty & \text{ if T answers sÃ­ } \\
    \end{cases} 
\end{align*}


\subsection*{Implementation}

The $OUTPUT$ matrix of the $\infty-$normalized transformer will be the same as the $0-1$ normalized. Lets analyze now how to get $h_n^L$ to be what we want.

Without loss of generality we can $\infty$-normalize a $0-1$ normalized transformer, so we can assume that $h_n^L = (T_{NO}, T_{YES}, 0, \dots, 0)$

Applying the following linear transformation we get the correct signs:

\begin{equation*}
    \left(\begin{matrix}
        &-1     &1      &0      &\dots  &0      \\
        &1      &-1     &0      &\dots  &0      \\
        &0      &0      &0      &\dots  &0      \\
        &\vdots &\vdots &\vdots &\ddots &\vdots \\
        &0      &0      &0      &\dots  &0      \\
    \end{matrix}\right) 
    \left(\begin{matrix}
        T_{NO} \\
        T_{YES} \\ 
        0 \\
        \vdots \\
        0
    \end{matrix}\right) = 
    \left(\begin{matrix}
        T_{YES} - T_{NO} \\
        T_{NO} - T_{YES} \\ 
        0 \\
        \vdots \\
        0
    \end{matrix}\right)
\end{equation*}


If $T$ answered yes, then $T_{YES} > T_{NO}$ and if $T$ answered no, then $T_{NO} > T_{YES}$.
Lets call $x' = T_{YES} - T_{NO}$, if $T$ answers yes, $x' > 0$, if answers no, $x' < 0$.


Because of the finite representation, it happens that for every $z \ge 0$:

\[z *\infty = \begin{cases}
    &0 \text{ if } z = 0 \\
    &y \text{ for some } y \ge 1 \text{ if } z \ge 1 \text{ since } x \ge \frac{1}{\infty} \\
\end{cases}\]

Then

\[(z *\infty) *\infty= \begin{cases}
    &0 \text{ si } z = 0 \\
    &\infty \text{ si } z \ge 1 \\
\end{cases}\]

The same happens with $z \le 0$.

Therefore, applying twice the linear transformation that multiplies by $\infty$ gives us what we want.

As we said before, using the projection of the first two coordinates as output matrix is clear that this new transformer preserves the behavior of the original:

\begin{itemize}
    \item If $T$ answered no then the first coordinate will be $\infty$ and the second one $-\infty$ before the softmax. But for the properties of the finite representation, $e^{-\infty} = 0$ and $e^{\infty} = \infty$. Then the output of the softmax will be $(1,0)$. So the argmax will pick no.
    \item In the same way if $T$ answered yes, the output of the softmax will be $(0,1)$. So the argmax  will pick yes.
\end{itemize}

